!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){var a=Date.now(),b={time:(a-this.played)*this.v};this.func(b),this.id=window.requestAnimationFrame(c.bind(this))}a("./rAF.js");var d=function(a){this.func=a,this.on=!1,this.paused=this.played=Date.now(),this.v=1,this.active=!1};d.prototype={play:function(){this.func&&!this.on&&(this.played+=Date.now()-this.paused,c.call(this),this.active=this.on=!0)},pause:function(){this.func&&this.on&&(cancelAnimationFrame(this.id),this.active=this.on=!1,this.paused=Date.now())},stop:function(){this.func&&(this.pause(),this.paused=this.played=Date.now())},seek:function(a){if(this.func){var b=Date.now();this.played=b-a,this.paused=b}},speed:function(a){if(this.func&&isFinite(a))if(a){a/=this.v;var b=Date.now(),c=(b-this.played)/a,d=(b-this.paused)/a;this.played=b-c,this.paused=b-d,this.v*=a,this.active&&this.play()}else this.pause(),this.active=!0},remove:function(){this.func&&(this.pause(),delete this.func)}},b.exports=d},{"./rAF.js":2}],2:[function(){!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}()},{}],3:[function(a,b){function c(a){this.shapes=[],this.container=document.getElementById(a.container),this.container.style.position="relative",this.canvas=document.createElement("canvas"),this.canvas.width=a.width,this.canvas.height=a.height,this.width=a.width,this.height=a.height,this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")}c.prototype.add=function(a){this.shapes.push(a),a.layer=this},c.prototype.draw=function(){this.clear(),this.shapes.forEach(function(a){a.draw()}),this.ctx.stroke()},c.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},c.prototype.remove=function(){this.clear(),this.shapes.forEach(function(a){delete a.layer}),this.shapes=[]},b.exports=c},{}],4:[function(a,b){function c(a){this.shape=a}c.prototype.draw=function(){var a=this.shape,b=this.layer;b.ctx.beginPath(),b.ctx.arc(a.x,a.y,a.radius,0,2*Math.PI),b.ctx.closePath(),a.fill&&(b.ctx.fillStyle=a.fill,b.ctx.fill())},c.prototype.setX=function(a){this.shape.x=a},c.prototype.setY=function(a){this.shape.y=a},b.exports=c},{}],5:[function(a,b){function c(){"use strict";var a,b,e,f,h,i,j=arguments[0],k=1,l=arguments.length,m=!1;for("boolean"==typeof j?(m=j,j=arguments[1]||{},k=2):("object"!=typeof j&&"function"!=typeof j||null==j)&&(j={});l>k;++k)if(a=arguments[k],null!=a)for(b in a)e=j[b],f=a[b],j!==f&&(m&&f&&(g(f)||(h=Array.isArray(f)))?(h?(h=!1,i=e&&Array.isArray(e)?e:[]):i=e&&g(e)?e:{},j[b]=c(m,i,f)):f!==d&&(j[b]=f));return j}var d,e=Object.prototype.hasOwnProperty,f=Object.prototype.toString,g=function(a){"use strict";if(!a||"[object Object]"!==f.call(a))return!1;var b=e.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&e.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var g;for(g in a);return g===d||e.call(a,g)};b.exports=c},{}],6:[function(a,b){var c=a("./Animation/Animation.js"),d=a("./Canvas/Shape/Circle.js"),e=a("./extend.js"),f=function(){function a(a,b){var c,d=(b-a.waiting.time)*a.interval;if(a.width){var e=(a.integer_height-a.waiting.time)*a.interval,f=e*e/(d*d);c=f*a.width}else{var e=(3-a.waiting.time)*a.interval,f=e*e/(d*d);c=1.5*a.height*f}return{width:c,gravity:8*a.height/(d*d),shift:a.waiting.shift*f,radius:a.balls.radius*f}}function b(b){this.attrs={},this.attrs=e(!0,this.attrs,{interval:500,waiting:{time:.5,shift:50},integer_height:5,balls:{radius:10,colors:["red","blue","green","yellow","black","orange","purple"]},height:.8*b.stage.height,center:{x:.5*b.stage.width,y:.9*b.stage.height},layer:b.stage},b);var c=a(this.attrs,this.attrs.integer_height);this.attrs.width=c.width,this.attrs.gravity=c.gravity}for(var f="abcdefghijklmnopqrstuvwxyz",g={},h=0;10>h;++h)g[h]=h;for(var h=0;h<f.length;++h)g[f[h]]=h+10;return b.toPattern=function(a){return a.split("").map(function(a){return g[a]})},b.prototype.setPattern=function(e){"string"==typeof e&&(e=b.toPattern(e));var f,g,h,i,j=this.attrs,k=Math.max.apply(null,e);if(k>j.integer_height){var l=a(j,k);i=l.width,h=l.gravity,g=l.shift,f=l.radius}else g=j.waiting.shift,i=j.width,h=j.gravity,f=j.balls.radius;var m=e.reduce(function(a,b){return a+b},0);if(m%e.length!=0)throw new Error("El patr√≥ es irrealitzable. Es necessita un nombre enter de boles. Actualment: "+m/e.length);m/=e.length;for(var n=[],o=0;o<e.length;++o){var p={};p.value=e[o],p.next=(o+p.value)%e.length,p.period=(p.value-j.waiting.time)*j.interval,p.velocity=.5*h*p.period,n.push(p)}for(var o=0;o<e.length;++o)if(!n[o].cycle){for(var q={},r=o,s=0;!q[r];)q[r]=!0,r=n[r].next,s+=n[r].value;for(var r in q)n[r].cycle=s}var t=j.center.y;g/=2;var u=j.center.x-i/2,v=j.center.x+i/2,w=0,x=0,o=0,y=0,z={};for(this.balls=[];m>o;){if(0!==n[x].value)if(void 0===z[w]){z[w]=o,z[w+n[x].value]=o,++o;var A={figure:new d({x:w%2===0?u+15:v-15,y:t,radius:f||10,fill:j.balls.colors[y%j.balls.colors.length]}),start:w,cycle:n[x].cycle};this.balls.push(A),j.layer.add(A.figure),++y}else z[w+n[x].value]=n[x].value;++w,x=w%n.length}var B=this;j.animation=new c(function(a){var b=Math.floor(a.time/j.interval);B.balls.forEach(function(c){var d=a.time-j.interval*c.start;if(d>=0){d%=c.cycle*j.interval;for(var e,f=c.start%n.length;;){e=n[f].value;var k=e*j.interval;if(k>d)break;d-=k,f=n[f].next}var l=b-Math.floor(d/j.interval);d<n[f].period?(c.figure.setX(n[f].value%2!=0?l%2===0?u+g+i*d/n[f].period:v-g-i*d/n[f].period:l%2===0?u+g-2*g*d/n[f].period:v-g+2*g*d/n[f].period),c.figure.setY(t-n[f].velocity*d+.5*h*d*d)):(c.figure.setX((l+n[f].value)%2===0?u-g+2*g*(d-n[f].period)/(j.waiting.time*j.interval):v+g-2*g*(d-n[f].period)/(j.waiting.time*j.interval)),c.figure.setY(t))}}),j.layer.draw()})},b.prototype.removePattern=function(){var a=this;a.attrs.animation.stop(),a.attrs.layer.remove()},b.prototype.play=function(){this.attrs.animation.play()},b}();b.exports=f},{"./Animation/Animation.js":1,"./Canvas/Shape/Circle.js":4,"./extend.js":5}],7:[function(a){var b=a("./juggler.js"),c=a("./Canvas/Layer.js"),d=a("./extend.js"),e=document.getElementById("pattern"),f=document.getElementById("select"),g=document.getElementById("button"),h=new c({container:"container",width:500,height:650}),i=new b({stage:h});i.setPattern("531"),console.log("eoo",d(!0,{},i.balls[0].figure.shape)),i.play(),f.onchange=function(){e.value=f.value},g.onclick=function(){console.log("eeeo");var a=e.value;i.removePattern(),i.setPattern(a),i.play()}},{"./Canvas/Layer.js":3,"./extend.js":5,"./juggler.js":6}]},{},[7]);